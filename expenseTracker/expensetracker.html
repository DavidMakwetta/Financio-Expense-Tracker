<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Financio Expense Tracker</title>
    <link rel="stylesheet" href="expensetrackers.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.4.0/jspdf.umd.min.js"></script>
    <style>
      /* Light mode (default) */
      body {
        background-color: #F0F9FA;
        color: #000;
      }

      /* Dark mode styles */
      .dark-mode {
        background-color: #121212;
        color: #ffffff;
      }

      .dark-mode .bg-white {
        background-color: #1e1e1e !important;
        color: #ffffff !important;
      }

      .toggle-dark-mode {
        position: absolute;
        top: 15px;
        right: 20px;
        cursor: pointer;
        font-size: 1.5rem;
        border: none;
        background: none;
        color: inherit;
      }
    </style>
  </head>
  <body>

    <!-- Dark Mode Toggle Button -->
    <button class="toggle-dark-mode" id="darkModeToggle">
      üåô
    </button>

    <div class="container my-5">
      <h2 class="text-center mb-4">Financio Expense Tracker</h2>

      <!-- Balance, Income, and Expense Section -->
      <div class="row text-center mb-4">
        <div class="col-lg-4 mb-3">
          <h4>Available Balance</h4>
          <h1 id="balance" class="fw-bold">UGX 0.00</h1>
        </div>
        <div class="col-lg-4 mb-3">
          <h4>Total Income</h4>
          <p id="money-plus" class="text-success fw-bold">+UGX 0.00</p>
        </div>
        <div class="col-lg-4 mb-3">
          <h4>Total Expense</h4>
          <p id="money-minus" class="text-danger fw-bold">-UGX 0.00</p>
        </div>
      </div>

      <!-- Transactions and Add Form Section -->
      <div class="row">
        <div class="col-lg-6 bg-white p-4 shadow rounded mb-4">
          <h3>Transaction History</h3>
          <ul id="list" class="list-group">
            <!-- Transactions will be dynamically added here -->
          </ul>
          <button id="print-pdf" class="btn btn-secondary mt-3">üñ®Ô∏è Print Transactions</button>
        </div>

        <div class="col-lg-6 bg-white p-4 shadow rounded mb-4">
          <h3>Add New Transaction</h3>
          <form id="form">
            <div class="mb-3">
              <label for="text" class="form-label">Transaction Details</label>
              <input type="text" id="text" class="form-control" placeholder="Enter name" />
            </div>
            <div class="mb-3">
              <label for="amount" class="form-label">Expense = Negative Value & Income = Positive Value</label>
              <input type="number" id="amount" class="form-control" placeholder="Enter amount" />
            </div>
            <div class="mb-3">
              <label for="date" class="form-label">Transaction Date</label>
              <input type="date" id="date" class="form-control" />
            </div>
            <button class="btn btn-primary w-100">Submit</button>
          </form>
        </div>
      </div>
    </div>

    <script>
      const toggleButton = document.getElementById("darkModeToggle");
      const body = document.body;

      // Check localStorage for dark mode preference
      if (localStorage.getItem("dark-mode") === "enabled") {
        body.classList.add("dark-mode");
        toggleButton.textContent = "‚òÄÔ∏è";
      }

      // Toggle dark mode
      toggleButton.addEventListener("click", () => {
        body.classList.toggle("dark-mode");

        if (body.classList.contains("dark-mode")) {
          localStorage.setItem("dark-mode", "enabled");
          toggleButton.textContent = "‚òÄÔ∏è"; // Sun icon for light mode
        } else {
          localStorage.setItem("dark-mode", "disabled");
          toggleButton.textContent = "üåô"; // Moon icon for dark mode
        }
      });
    </script>

    <script src="trackerscript.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min
